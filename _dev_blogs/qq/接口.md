10:04:06
王工（小新） 2015/11/18 10:04:06
现在有个疑问，成功返回的时候 是给你账单ID，还是给你账单详细信息包括账单行的信息

王工（小新） 2015/11/18 10:04:56
还有一个办法是给你账单ID，你再查询一次，重新刷新一下界面，这个接口压力可以小点
10:13:18
        亦清 2015/11/18 10:13:18
你可以封装到一个方法中 根据我这边的请求决定是否返回更多的详细信息过来 

我这里 现在接口设计 都有一个expand（扩展） 字段
一个接口 如果返回的数据可能有多种形式时  会使用类似协商的手段  接口调用者来告诉我 到底要那些数据 比如 ：expand=user,comments   ---> 表示需要额外的用户跟评论信息

但无论如何 在设计接口时 需要做到信息完备 按最大化来设计 
正常情况下 返回最少数据 通过expand字段可以协商式的来请求更多数据  这要求接口设计时 尽量模块化来做 可以随意增减信息
10:15:59
王工（小新） 2015/11/18 10:15:59
那请求格式中还要增加字段来判断？
10:25:21
        亦清 2015/11/18 10:25:21
实际上 你那个账单接口 我结账时  确实调了两次 
第一次用来看 
当确认结账时 又调了一次 我这里是保证接口的无状态 （接口间无依赖关系） 

简单起见 你可以添加一个flag 标识字段 比如我传true 你返回一个格式 我传false 你是另一种形式 
默认可以是返回账单id  

比如 对实体的 create 接口实现              有两种形式 create(p1,p2,p3....) :  id
                                                                               create(p1,p2,p3 ...) :  NewCreatedEntity
第一种是 创建成功时返回 一个id  这种新式 如果需要查看实体的明细时  你还需要提供一个view接口
                       view(id) : Entity
第二种形式 是创建成功时 直接返回新生成的实体   但仍旧需要提供view 接口  不然在后续某个点无法查看详情了
实际后面的第二种形式 可以看做  create(...) : id      |> view    也就是两种接口做流水线调用  

接口使用方 很多情况下 会觉得第二种形式方便  因为一般都是创建成功后 仅接着就会继续调用view 接口 如果能在一次操作中完成
不就省了一次调用么  为了满足 多种用户需求 那么通过我上面说的 通过一个参数字段来协商 返回那种形式的信息 应该是个好的方法